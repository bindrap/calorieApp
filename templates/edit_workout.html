<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Workout - Koombi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('index') }}">Koombi</a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="{{ url_for('index') }}">Dashboard</a>
                <a class="nav-link" href="{{ url_for('profile') }}">Profile</a>
                <a class="nav-link" href="{{ url_for('logout') }}">Logout</a>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h3>Edit Workout</h3>
                    </div>
                    <div class="card-body">
                        <form method="POST">
                            <div class="mb-3">
                                <label for="activity_type" class="form-label">Activity Type</label>
                                <select class="form-select" id="activity_type" name="activity_type" required>
                                    <option value="">Select Activity</option>
                                    <option value="Running" {{ 'selected' if workout.activity_type == 'Running' else '' }}>Running</option>
                                    <option value="Jiu Jitsu" {{ 'selected' if workout.activity_type == 'Jiu Jitsu' else '' }}>Jiu Jitsu</option>
                                    <option value="Weight Training" {{ 'selected' if workout.activity_type == 'Weight Training' else '' }}>Weight Training</option>
                                    <option value="Cycling" {{ 'selected' if workout.activity_type == 'Cycling' else '' }}>Cycling</option>
                                    <option value="Swimming" {{ 'selected' if workout.activity_type == 'Swimming' else '' }}>Swimming</option>
                                    <option value="Basketball" {{ 'selected' if workout.activity_type == 'Basketball' else '' }}>Basketball</option>
                                    <option value="Soccer" {{ 'selected' if workout.activity_type == 'Soccer' else '' }}>Soccer</option>
                                    <option value="Boxing" {{ 'selected' if workout.activity_type == 'Boxing' else '' }}>Boxing</option>
                                    <option value="HIIT" {{ 'selected' if workout.activity_type == 'HIIT' else '' }}>HIIT</option>
                                    <option value="Yoga" {{ 'selected' if workout.activity_type == 'Yoga' else '' }}>Yoga</option>
                                    <option value="Walking" {{ 'selected' if workout.activity_type == 'Walking' else '' }}>Walking</option>
                                    <option value="Dancing" {{ 'selected' if workout.activity_type == 'Dancing' else '' }}>Dancing</option>
                                    <option value="Other" {{ 'selected' if workout.activity_type == 'Other' else '' }}>Other</option>
                                </select>
                            </div>

                            <div class="mb-3">
                                <label for="intensity" class="form-label">Intensity Level</label>
                                <select class="form-select" id="intensity" name="intensity" required>
                                    <option value="">Select Intensity</option>
                                    <option value="light" {{ 'selected' if workout.intensity == 'light' else '' }}>Light (Yoga, slow walking)</option>
                                    <option value="moderate" {{ 'selected' if workout.intensity == 'moderate' else '' }}>Moderate (Weight training, brisk walking)</option>
                                    <option value="high" {{ 'selected' if workout.intensity == 'high' else '' }}>High (Running, HIIT, martial arts)</option>
                                </select>
                            </div>

                            <div class="mb-3">
                                <label for="duration_minutes" class="form-label">Duration (minutes)</label>
                                <input type="number" class="form-control" id="duration_minutes" name="duration_minutes"
                                       min="1" max="300" value="{{ workout.duration_minutes }}" required>
                            </div>

                            <div class="mb-3">
                                <label for="exertion_rating" class="form-label">Perceived Exertion Scale (1-10)</label>
                                <select class="form-select" id="exertion_rating" name="exertion_rating" required>
                                    <option value="">Select your exertion level</option>
                                    <option value="2" {{ 'selected' if workout.exertion_rating == 2 else '' }}>2 - Very Light (Can sing while exercising)</option>
                                    <option value="3" {{ 'selected' if workout.exertion_rating == 3 else '' }}>3 - Light (Can sing while exercising)</option>
                                    <option value="4" {{ 'selected' if workout.exertion_rating == 4 else '' }}>4 - Light (Can sing while exercising)</option>
                                    <option value="5" {{ 'selected' if workout.exertion_rating == 5 else '' }}>5 - Moderate (Can talk but not sing)</option>
                                    <option value="6" {{ 'selected' if workout.exertion_rating == 6 else '' }}>6 - Moderate (Can talk but not sing)</option>
                                    <option value="7" {{ 'selected' if workout.exertion_rating == 7 else '' }}>7 - High (Difficult to talk)</option>
                                    <option value="8" {{ 'selected' if workout.exertion_rating == 8 else '' }}>8 - High (Difficult to talk)</option>
                                    <option value="9" {{ 'selected' if workout.exertion_rating == 9 else '' }}>9 - Very High (Difficult to talk)</option>
                                </select>
                                <div class="form-text">
                                    <strong>Physical Signs:</strong><br>
                                    <small class="text-muted">
                                        • Light (2-4): Minimal sweat, easy recovery<br>
                                        • Moderate (5-6): Light sweat, recovery in 2-5 minutes<br>
                                        • High (7-9): Heavy sweat, recovery 5+ minutes
                                    </small>
                                </div>
                            </div>

                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <a href="{{ url_for('index') }}" class="btn btn-secondary me-md-2">Cancel</a>
                                <button type="submit" class="btn btn-primary">Update Workout</button>
                            </div>
                        </form>

                        <div class="mt-4">
                            <h5>MET Reference</h5>
                            <small class="text-muted">
                                <strong>Light:</strong> 2-3 MET (Yoga, walking slowly)<br>
                                <strong>Moderate:</strong> 4-6 MET (Weight training, brisk walking, cycling)<br>
                                <strong>High:</strong> 7-12+ MET (Running, HIIT, martial arts)
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>